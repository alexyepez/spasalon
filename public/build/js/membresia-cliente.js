document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#membresia_id"),t=document.querySelector("#fecha_inicio"),n=document.querySelector("#fecha_fin"),o=document.querySelector("#resumen-nombre"),r=document.querySelector("#resumen-precio"),c=document.querySelector("#resumen-descuento"),a=document.querySelector("#resumen-duracion");function d(){if(""===e.value)return o.textContent="-",r.textContent="-",c.textContent="-",void(a.textContent="-");const d=e.options[e.selectedIndex],u=d.text.split(" - ")[0],i=d.dataset.precio,s=d.dataset.descuento;let l="-";if(t.value&&n.value){const e=new Date(t.value),o=new Date(n.value)-e,r=Math.ceil(o/864e5);if(r>0){const e=Math.floor(r/365),t=Math.floor(r%365/30),n=Math.floor(r%365%30);let o="";e>0&&(o+=`${e} año${1!==e?"s":""} `),t>0&&(o+=`${t} mes${1!==t?"es":""} `),n>0&&(o+=`${n} día${1!==n?"s":""}`),l=o.trim()}else l=0===r?"1 día":"Fecha de fin debe ser posterior a la de inicio"}o.textContent=u,r.textContent=`$${parseFloat(i).toFixed(2)}`,c.textContent=`${s}%`,a.textContent=l}e&&t&&n&&(e.addEventListener("change",d),t.addEventListener("change",d),n.addEventListener("change",d),d())}));